#!/bin/sh
# Minimal rcS startup script for Toybox-based system

echo "[rcS] Starting system initialization..."

# Mount essential pseudo filesystems
mount -t proc proc /proc
mount -t sysfs sysfs /sys
mount -t tmpfs tmpfs /run
mount -t devtmpfs devtmpfs /dev 2>/dev/null || mount -t tmpfs devtmpfs /dev

# Set up basic networking (optional)
# ifconfig lo up
# hostname localhost

# Remount root filesystem read-write (if needed)
mount -o remount,rw /

# Run any other startup scripts
[ -d /etc/init.d ] && for s in /etc/init.d/S* ; do
  [ -x "$s" ] && "$s"
done

echo "[rcS] Initialization complete."

# Start an interactive shell
exec /bin/sh
